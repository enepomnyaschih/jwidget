name: jWidget 2
input: src
output: dist

references:
  # External references
  lodash:
    label: Lodash
    href: https://lodash.com
  underscore:
    label: Underscore.js
    href: https://underscorejs.org
  jquery:
    label: jQuery
    href: https://api.jquery.com
  JQuery:
    href: https://api.jquery.com
  Promise:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
  PromiseAll:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all
    label: Promise.all
  PromiseRace:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race
    label: Promise.race
  PromiseThen:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then
    label: Promise.then
  PromiseCatch:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch
    label: Promise.catch
  jqXHR:
    href: https://api.jquery.com/jquery.ajax/
  Thenable:
    href: https://www.npmjs.com/package/@types/es6-promise
  setTimeout:
    href: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout
  clearTimeout:
    href: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout
  setInterval:
    href: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval
  clearInterval:
    href: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval
  unique:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Same-value-zero_equality
  Iterable:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators#iterables
  IterableIterator:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators#iterators
  Map:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map
  ReadonlyMap:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map
  Set:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set
  ReadonlySet:
    href: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set

  # Pages
  DocumentationRoot:
    file: doc
    label: Documentation root

  # Core
  CoreUtils:
    file: jwidget
  Binding:
    file: jwidget
    symbol: Binding
  UPDATE:
    file: jwidget
    symbol: Binding
  WATCH:
    file: jwidget
    symbol: Binding
  TWOWAY:
    file: jwidget
    symbol: Binding
  cmp:
    file: jwidget
    symbol: cmp
  destroyFunction:
    file: jwidget
    symbol: destroy
    label: destroy

  # Destroyable
  destroy:
    file: jwidget/Destroyable
    member: destroy
  baseDestroy:
    file: jwidget/Destroyable
    member: destroy
    label: destroy
  destroyed:
    file: jwidget/Destroyable
    member: destroy
  destroying:
    file: jwidget/Destroyable
    member: destroy
  destruction:
    file: jwidget/Destroyable
    member: destroy
  destroys:
    file: jwidget/Destroyable
    member: destroy

  # IClass
  own:
    file: jwidget/IClass
    member: own

  # Class
  destroyObject:
    file: jwidget/Class
    member: destroyObject

  # Listenable
  listenMethod:
    file: jwidget/Listenable
    member: listen
    label: listen

  # Dispatcher
  dispatch:
    file: jwidget/IDispatcher
    member: dispatch
  dispatched:
    file: jwidget/IDispatcher
    member: dispatch
  dispatches:
    file: jwidget/IDispatcher
    member: dispatch

  # Bindable
  getOfBindable:
    file: jwidget/Bindable
    member: get
    label: get
  mapOfBindable:
    file: jwidget/Bindable
    member: map
    label: map

  # IProperty
  ownValue:
    file: jwidget/IProperty
    member: ownValue

  # Property
  setOfProperty:
    file: jwidget/IProperty
    member: set
    label: set

  # Switcher
  initOfSwitcher:
    file: jwidget/Switcher
    symbol: Switcher.Config
    member: init
    label: init

  doneOfSwitcher:
    file: jwidget/Switcher
    symbol: Switcher.Config
    member: done
    label: done

  # Component
  beforeRender:
    file: jwidget/Component
    member: beforeRender

  afterRender:
    file: jwidget/Component
    member: afterRender

  getElement:
    file: jwidget/Component
    member: getElement

  renderTo:
    file: jwidget/Component
    member: renderTo

  # Collection synchronizers
  startMappingArray:
    file: jwidget/collection/ArrayMapper
    symbol: startMappingArray

  startMappingMap:
    file: jwidget/collection/MapMapper
    symbol: startMappingMap

  startMappingSet:
    file: jwidget/collection/SetMapper
    symbol: startMappingSet

  startFilteringArray:
    file: jwidget/collection/ArrayFilterer
    symbol: startFilteringArray

  startFilteringMap:
    file: jwidget/collection/MapFilterer
    symbol: startFilteringMap

  startFilteringSet:
    file: jwidget/collection/SetFilterer
    symbol: startFilteringSet

  startCollectingArrayValues:
    file: jwidget/collection/ArrayValueCollector
    symbol: startCollectingArrayValues

  startCollectingMapValues:
    file: jwidget/collection/MapValueCollector
    symbol: startCollectingMapValues

  startCollectingMapKeys:
    file: jwidget/collection/MapKeyCollector
    symbol: startCollectingMapKeys

  startCollectingSetValues:
    file: jwidget/collection/SetValueCollector
    symbol: startCollectingSetValues

  startMergingArrays:
    file: jwidget/collection/ArrayMerger
    symbol: startMergingArrays

  startReversingArray:
    file: jwidget/collection/ArrayReverser
    symbol: startReversingArray

  startConvertingSetToArray:
    file: jwidget/collection/SetConverterToArray
    symbol: startConvertingSetToArray

  startIndexingSet:
    file: jwidget/collection/SetIndexer
    symbol: startIndexingSet

  startCountingMatchingSetValues:
    file: jwidget/collection/SetMatchingValueCounter
    symbol: startCountingMatchingSetValues

  startSortingSet:
    file: jwidget/collection/SetSorter
    symbol: startSortingSet

  # Tutorials
  TutorialIndex:
    file: tutorial
    label: jWidget 2 tutorials

  tutorial1:
    file: tutorials/tutorial1
    label: Tutorial. Part 1. Model and view

  tutorial2:
    file: tutorials/tutorial2
    label: Tutorial. Part 2. Child component collections

  tutorial3:
    file: tutorials/tutorial3
    label: Tutorial. Part 3. Named child components

  tutorial4:
    file: tutorials/tutorial4
    label: Tutorial. Part 4. Messages

  tutorial5:
    file: tutorials/tutorial5
    label: Tutorial. Part 5. Properties

  tutorial6:
    file: tutorials/tutorial6
    label: Tutorial. Part 6. Collection bindings

  philosophy:
    file: tutorials/philosophy
    label: jWidget philosophy

includes:
  DocumentationIndex: |
    <div class="container-fluid">
      <h5>%DocumentationRoot</h5>
      <div class="row">
        <div class="col-4">
          <h5>Utilities</h5>
          <ul class="list-unstyled">
            <li>%CoreUtils</li>
            <li>%ArrayUtils</li>
            <li>%DomUtils</li>
            <li>%IterableUtils</li>
            <li>%MapUtils</li>
            <li>%SetUtils</li>
            <li>%StringUtils</li>
          </ul>
          <h5>Core interfaces</h5>
          <ul class="list-unstyled">
            <li>%Destroyable</li>
            <li>%Listenable</li>
            <li>%Bindable</li>
            <li>%DestroyableBindable</li>
          </ul>
        </div>
        <div class="col-4">
          <h5>Auxiliary interfaces</h5>
          <ul class="list-unstyled">
            <li>%Some</li>
          </ul>
          <h5>Core classes and their interfaces</h5>
          <ul class="list-unstyled">
            <li>%Class, %IClass</li>
            <li>%Dispatcher, %IDispatcher</li>
            <li>%Property, %IProperty</li>
          </ul>
          <h5>UI core</h5>
          <ul class="list-unstyled">
            <li>%Component</li>
            <li>%Renderable</li>
            <li>%template</li>
            <li>%listen</li>
          </ul>
        </div>
        <div class="col-4">
          <h5>Model bindings for %Property</h5>
          <ul class="list-unstyled">
            <li>%Copier</li>
            <li>%Mapper</li>
            <li>%Switcher</li>
          </ul>
          <h5>View bindings for %Property</h5>
          <ul class="list-unstyled" style="column-count: 2">
            <li>%bindAttr</li>
            <li>%bindClass</li>
            <li>%bindCss</li>
            <li>%bindDisplay</li>
            <li>%bindHtml</li>
            <li>%bindProp</li>
            <li>%bindRadio</li>
            <li>%bindText</li>
            <li>%bindVal</li>
          </ul>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-8">
          <h5>Collections</h5>
          <table class="table table-sm">
            <tbody>
              <tr>
                <td>%ReadonlyBindableArray</td>
                <td>%ReadonlyBindableMap</td>
                <td>%ReadonlyBindableSet</td>
              </tr>
              <tr>
                <td>%DestroyableReadonlyBindableArray</td>
                <td>%DestroyableReadonlyBindableMap</td>
                <td>%DestroyableReadonlyBindableSet</td>
              </tr>
              <tr>
                <td>%IBindableArray</td>
                <td>%IBindableMap</td>
                <td>%IBindableSet</td>
              </tr>
              <tr>
                <td>%BindableArray</td>
                <td>%BindableMap</td>
                <td>%BindableSet</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-4">
          <h5>Collection bindings</h5>
          <ul class="list-unstyled" style="column-count: 2">
            <li>%ArrayFilterer</li>
            <li>%ArrayInserter</li>
            <li>%ArrayMapper</li>
            <li>%ArrayMerger</li>
            <li>%ArrayReverser</li>
            <li>%ArrayValueCollector</li>
            <li>%MapFilterer</li>
            <li>%MapInserter</li>
            <li>%MapKeyCollector</li>
            <li>%MapMapper</li>
            <li>%MapValueCollector</li>
            <li>%SetConverterToArray</li>
            <li>%SetFilterer</li>
            <li>%SetIndexer</li>
            <li>%SetMapper</li>
            <li>%SetMatchingValueCounter</li>
            <li>%SetSorter</li>
            <li>%SetValueCollector</li>
          </ul>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-4">
          <h5>Routing</h5>
          <ul class="list-unstyled">
            <li>%hash</li>
            <li>%Router</li>
            <li>%RouteRedirector</li>
            <li>%RoutingNode</li>
            <li>%UIRouter</li>
            <li>%Endpoint</li>
          </ul>
          <h5>Destroyable adapters</h5>
          <ul class="list-unstyled">
            <li>%Destructor</li>
            <li>%Interval</li>
          </ul>
        </div>
        <div class="col-4">
          <h5>AJAX and asyncronous operations</h5>
          <ul class="list-unstyled">
            <li>%CancelToken</li>
            <li>%defer</li>
            <li>%request</li>
          </ul>
          <h5>Other tools</h5>
          <ul class="list-unstyled">
            <li>%DomInserter</li>
            <li>%DomTemplate</li>
            <li>%HtmlTemplate</li>
          </ul>
        </div>
        <div class="col-4">
          <h5>References (low level stuff)</h5>
          <ul class="list-unstyled">
            <li>%AbstractTemplate</li>
            <li>%dummyDestroyable</li>
            <li>%dummyDispatcher</li>
            <li>%TemplateOutput</li>
          </ul>
        </div>
      </div>
    </div>

  TutorialIndex: |
    <div class="container-fluid">
      <h5>%TutorialIndex</h5>
      <ul>
        <li>%tutorial1</li>
        <li>%tutorial2</li>
        <li>%tutorial3</li>
        <li>%tutorial4</li>
        <li>%tutorial5</li>
        <li>%tutorial6</li>
      </ul>
      <hr>
      <ul>
        <li>%philosophy</li>
      </ul>
    </div>

  DispatcherExample: |
    <p>It is smart to store a dispatcher as %IDispatcher internally, and expose it as %Listenable externally to deny direct
    control over the dispatcher by its listeners.</p>
    <pre>
    class Example {
        private _onChange = new %Dispatcher<number>();

        get onChange(): %Listenable<number> {
            return this._onChange;
        }

        // ...

            // We can't dispatch public onChange, but we can dispatch private _onChange
            this._onChange.%dispatch(value);

        // ...
    }
    </pre>

  PropertyExample: |
    <p>It is sometimes smart to store the property as %IProperty internally, and expose it as %Bindable or
    %DestroyableBindable externally to deny direct control over the property by the clients.</p>
    <pre>
    class Example {
        private _size = new %Property<number>(0);

        get size(): %Bindable<number> {
            return this._size;
        }

        // ...

            // We can't set public size, but we can set private _size
            this._size.%set(value);

        // ...
    }
    </pre>
