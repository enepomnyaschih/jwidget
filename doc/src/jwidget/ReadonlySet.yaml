symbols:
  default:
    kind: interface
    typevars:
      T: Item type.
    extends:
      - file: jwidget/ReadonlyCollection
        typevars: [T]
    description: |
      <p>Unordered collection optimized for value addition, removal and presence check.</p>

    properties:
      items:
        modifiers: readonly
        type: '%T[]'
        description: |
          <p>Array of all set items. This getter makes a copy of the collection (in fact, internal representation of
          %Set is not an array).</p>

      onSplice:
        modifiers: readonly
        type: '%Listenable<%ISet.%SpliceMessage<%T>>'
        description: Items are removed from the set and/or items are added to the set.

      onClear:
        modifiers: readonly
        type: '%Listenable<%ISet.%ItemsMessage<%T>>'
        description: The set is cleared.

      onChange:
        modifiers: readonly
        type: '%Listenable<%ISet.%Message<%T>>'
        description: The set is changed. Dispatched right after any another message.

    methods:
      clone:
        signature: |
          (): %ISet<%T>
        returns: Returns a shallow copy of this collection.

      filter:
        signature: |
          (callback: (item: %T) => any, scope?: any): %ISet<%T>
        params:
          callback: Criteria callback.
          scope: '%callback call scope. Defaults to the collection.'
        returns: Filtered collection.
        description: |
          <p>Filters the collection by criteria. Builds a new collection of the same type, consisting of items %callback
          returns %truthy value for.</p>

      map:
        signature: |
          <U>(callback: (item: %T) => U, scope?: any, getKey?: (item: U) => any): %ISet<U>
        params:
          callback: Mapping function.
          scope: '%callback call scope. Defaults to the collection.'
          getKey: |
            Function which returns unique key of an item in the resulting collection.
            Defaults to %getKeyProperty property of the collection.
        returns: Mapped collection.
        description: |
          <p>Maps collection items. Builds a new collection of the same type, containing results of %callback call for
          each collection item.</p>

      detectSplice:
        signature: |
          (newItems: %T[]): %ISet.%SpliceParams<%T>
        params:
          newItems: New set contents.
        returns: '%splice method arguments. If no method call required, returns undefined.'
        description: |
          <p>Detects %splice method arguments to adjust the set contents to %newItems.
          Determines item bunches to be removed and added.</p>

      equal:
        signature: |
          (array: %T[]): boolean
        params:
          array: Array.
        returns: This set is equal to the array.
        description: |
          <p>Checks this set for equality (===) to an array, item by item.</p>

    references:
      getKeyProperty:
        symbol: default
        member: getKey
        label: getKey

      splice:
        file: jwidget/ISet
        member: splice

      SpliceResult:
        file: jwidget/ISet
        symbol: ISet.SpliceResult
        label: SpliceResult

      SpliceParams:
        file: jwidget/ISet
        symbol: ISet.SpliceParams
        label: SpliceParams

      SpliceMessage:
        file: jwidget/ISet
        symbol: ISet.SpliceMessage
        label: SpliceMessage

      ItemsMessage:
        file: jwidget/ISet
        symbol: ISet.ItemsMessage
        label: ItemsMessage
