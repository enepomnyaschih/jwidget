<!DOCTYPE html>
<html>
	<head>
		<title>jwidget/Dispatcher - jWidget 2</title>
		<link rel="stylesheet" type="text/css" href="../bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../styles.css">
	</head>
	<body>
		<nav class="doc-header navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="..">jWidget 2</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="..">Home</a>
					</li>
					
						<li class="nav-item">
							<a class="nav-link dropdown-toggle" href="../tutorials/tutorial1.html"
								data-dropdown="#tutorial-dropdown">Tutorial <span class="sr-only">(current)</span></a>
						</li>
					
					<li class="nav-item">
						<a class="nav-link dropdown-toggle" href="../doc.html"
							data-dropdown="#index-dropdown">Documentation <span class="sr-only">(current)</span></a>
					</li>
				</ul>
				<form class="form-inline my-2 my-lg-0">
					<div class="form-check text-light mr-2">
		<input class="form-check-input" type="checkbox" id="navbarShowInherited">
		<label class="form-check-label" for="navbarShowInherited">Expand inherited members</label>
	</div>
				</form>
			</div>
		</nav>
		<div class="doc-contents">
			
				<nav class="doc-sidebar navbar navbar-light bg-light">
					<nav class="doc-index nav nav-pills flex-column">
						<a class="navbar-brand" href="#">jwidget/Dispatcher</a>
						
<a class="nav-link" href="#default">Default export</a>

<nav class="nav nav-pills flex-column">
<a class="nav-link" href="#default---hierarchy">Hierarchy</a>
<a class="nav-link" href="#default---description">Description</a>

<a class="nav-link" href="#default---constructor">Constructor</a>

<a class="nav-link" href="#default---properties">Properties</a>
<nav class="nav nav-pills flex-column"><a class="nav-link font-italic" href="#default--dummy">dummy</a></nav>

<a class="nav-link" href="#default---methods">Methods</a>
<nav class="nav nav-pills flex-column"><a class="nav-link font-italic" href="#default--dispatch">dispatch</a>
<a class="nav-link font-italic" href="#default--purge">purge</a>
<a class="nav-link font-italic" href="#default--listen">listen</a></nav>


<a class="nav-link" href="#default---staticMethods">Static methods</a>
<nav class="nav nav-pills flex-column"><a class="nav-link" href="#default--make-static">make</a></nav>
</nav>
						<div class="py-3"></div>
					</nav>
				</nav>
				<div class="doc-main">
					<div class="container-fluid">
						<h1><span id="default"></span>jwidget/Dispatcher</h1>
						
						<h3>Consumption</h3>
						<pre class="doc-consumption">import Dispatcher from "jwidget/Dispatcher";</pre>
						
<h3><span id="default"></span>Default export<a class="anchorjs-link" href="#default" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h3>
<div class="doc-section">

<h4><span id="default---hierarchy"></span>Hierarchy<a class="anchorjs-link" href="#default---hierarchy" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h4>
<ul class="doc-hierarchy">



<li><span style="margin-left: 0em"></span>interface <a href="Listenable.html#default">Listenable</a><span class="monospace">&lt;M&gt;</span></li>
<li><span style="margin-left: 2em"></span>interface <a href="IDispatcher.html#default">IDispatcher</a><span class="monospace">&lt;M&gt;</span></li>
<li><span style="margin-left: 4em"></span>class <b>Dispatcher</b><span class="monospace">&lt;M&gt;</span></li>

</ul>
<h4><span id="default---description"></span>Description<a class="anchorjs-link" href="#default---description" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h4>
<dl class="row">
<dt class="col-lg-2 col-sm-3">M</dt><dd class="col-lg-10 col-sm-9">Message.</dd>
</dl>
<p>Real implementation of <a href="IDispatcher.html" target="_parent">IDispatcher</a> interface that calls handler functions on <a href="#default--dispatch" target="_parent">dispatch</a> method call (as opposed to
<a href="dummyDispatcher.html" target="_parent">dummyDispatcher</a> which doesn't). Used to dispatch messages (e.g. field value changes) to listeners. The messages
get dispatched immediately and synchronously - there's no message bus in jWidget.
Remember to destroy listener references to unbind the listeners. It is a smart approach to expose dispatchers
in getters as <a href="Listenable.html" target="_parent">Listenable</a> to deny direct control over the dispatcher by the listeners.</p>
<p>Full example of a class that dispatches messages:</p>
<pre>
class Container&lt;T&gt; {
    private _items: T[] = [];
    private _onAdd = new <b>Dispatcher</b>&lt;Container.Message&lt;T&gt;&gt;();
    private _onRemove = new <b>Dispatcher</b>&lt;Container.Message&lt;T&gt;&gt;();

    get onAdd(): <a href="Listenable.html" target="_parent">Listenable</a>&lt;Container.Message&lt;T&gt;&gt; {
        return this._onAdd;
    }

    get onRemove(): <a href="Listenable.html" target="_parent">Listenable</a>&lt;Container.Message&lt;T&gt;&gt; {
        return this._onRemove;
    }

    addItem(item: T, index: number) {
        this._items.splice(index, 0, item);
        this._onAdd.<a href="#default--dispatch" target="_parent">dispatch</a>({item, index});
    }

    removeItem(index: number) {
        const item = this._items.splice(index, 1)[0];
        this._onRemove.<a href="#default--dispatch" target="_parent">dispatch</a>({item, index});
    }
}

namespace Container {
    interface Message&lt;T&gt; {
        readonly item: T;
        readonly index: number;
    }
}</pre>
<p>Full example of a message listener:</p>
<pre>
class Listener&lt;T&gt; extends <a href="Class.html" target="_parent">Class</a> {
    constructor(container: Container&lt;T&gt;) {
        super();
        this.own(container.onAdd.<a href="Listenable.html#default--listen" target="_parent">listen</a>(({item, index) =&gt; {
            console.log(`${item} item has been added at ${index}.`);
        });
        this.own(container.onRemove.<a href="Listenable.html#default--listen" target="_parent">listen</a>(({item, index) =&gt; {
            console.log(`${item} item has been removed at ${index}.`);
        });
    }
}</pre>



<h4><span id="default---constructor"></span>Constructor<a class="anchorjs-link" href="#default---constructor" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h4>
<p><code>new Dispatcher<span class="monospace">&lt;M&gt;</span>()</code></p>

Constructs a message dispatcher.


<h4><span id="default---properties"></span>Fields<a class="anchorjs-link" href="#default---properties" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h4>

<h5><span id="default--dummy"></span><i>dummy</i> <span class="doc-inherit-mark">(inherited from <a href="Listenable.html#default" target="_parent">Listenable</a>)</span><a class="anchorjs-link" href="#default--dummy" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h5>
<div class="doc-member doc-inherited">
<p><code>readonly dummy: boolean</code></p>
<p>Checks if this dispatcher is <a href="dummyDispatcher.html" target="_parent">dummy</a>. This knowledge may help you do certain code optimizations.</p>

</div>

<h4><span id="default---methods"></span>Methods<a class="anchorjs-link" href="#default---methods" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h4>

<h5><span id="default--dispatch"></span><i>dispatch</i> <span class="doc-inherit-mark">(inherited from <a href="IDispatcher.html#default" target="_parent">IDispatcher</a>)</span><a class="anchorjs-link" href="#default--dispatch" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h5>
<div class="doc-member doc-inherited">
<p><code>dispatch(message?: <a href="#default" target="_parent">M</a>)
</code></p>
<dl class="row">
<dt class="col-lg-2 col-sm-3">message</dt><dd class="col-lg-10 col-sm-9">Message to dispatch.</dd>
</dl>
<p>Synchronously dispatches a message, i.e. calls all bound handlers with the specified argument.</p>
<pre>
dispatcher.<b>dispatch</b>(&quot;Hello&quot;);</pre>
<p>This way, we synchronously call all handlers of <code>dispatcher</code> with "Hello" argument.

</div>

<h5><span id="default--purge"></span><i>purge</i> <span class="doc-inherit-mark">(inherited from <a href="IDispatcher.html#default" target="_parent">IDispatcher</a>)</span><a class="anchorjs-link" href="#default--purge" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h5>
<div class="doc-member doc-inherited">
<p><code>()
</code></p>

<p>Unbinds all listeners.</p>

</div>

<h5><span id="default--listen"></span><i>listen</i> <span class="doc-inherit-mark">(inherited from <a href="Listenable.html#default" target="_parent">Listenable</a>)</span><a class="anchorjs-link" href="#default--listen" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h5>
<div class="doc-member doc-inherited">
<p><code>(handler: (message: <a href="#default" target="_parent">M</a>) =&gt; void, scope?: any): <a href="Destroyable.html" target="_parent">Destroyable</a>
</code></p>
<dl class="row">
<dt class="col-lg-2 col-sm-3">handler</dt><dd class="col-lg-10 col-sm-9">Message handler function.</dd>
<dt class="col-lg-2 col-sm-3">scope</dt><dd class="col-lg-10 col-sm-9"><b>handler</b> call scope.</dd>
<dt class="col-lg-2 col-sm-3"><span class="doc-returns">returns</span></dt><dd class="col-lg-10 col-sm-9">Listener reference.</dd>
</dl>
<p>Starts listening messages.</p>
<p>Whenever a message is <a href="IDispatcher.html#default--dispatch" target="_parent">dispatched</a>, <b>handler</b> function is called. Handlers are called in the same order
as they were bound.</p>
<p>You can stop listening messages by <a href="Destroyable.html#default--destroy" target="_parent">destroying</a> the returned listener reference. Consider using <a href="IClass.html#default--own" target="_parent">own</a> method
for this purpose.</p>
<pre>
class MyListener extends <a href="Class.html" target="_parent">Class</a> {
    constructor(onChange: <a href="Listenable.html" target="_parent">Listenable</a>&lt;number&gt;) {
        super();
        this.<a href="IClass.html#default--own" target="_parent">own</a>(onChange.<b>listen</b>(message =&gt; {
            console.log(&quot;Value has changed to &quot; + message);
        }));
    }
}</pre>

</div>


<h4><span id="default---staticMethods"></span>Static methods<a class="anchorjs-link" href="#default---staticMethods" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h4>

<h5><span id="default--make-static"></span>make<a class="anchorjs-link" href="#default--make-static" aria-label="Anchor" style="padding-left: 0.375em;">#</a></h5>
<div class="doc-member">
<p><code>&lt;M&gt;(dummy: boolean): <a href="IDispatcher.html" target="_parent">IDispatcher</a>&lt;M&gt;
</code></p>
<dl class="row">
<dt class="col-lg-2 col-sm-3">dummy</dt><dd class="col-lg-10 col-sm-9">Determines if dummy dispatcher should be returned.</dd>
<dt class="col-lg-2 col-sm-3"><span class="doc-returns">returns</span></dt><dd class="col-lg-10 col-sm-9">Message dispatcher.</dd>
</dl>
If <b>dummy</b> argument is false, returns a new instance of <b>Dispatcher</b>. Else returns <a href="dummyDispatcher.html" target="_parent">dummyDispatcher</a>.

</div>
</div>
					</div>
					<footer>&copy; <script>document.write(new Date().getFullYear())</script> Copyright: Egor Nepomnyaschih</footer>
				</div>
			
		</div>
		<div id="tutorial-dropdown" class="doc-dropdown" style="display: none"><div class="container-fluid">
  <h5><a href="../tutorial.html" target="_parent">jWidget 2 tutorials</a></h5>
  <ul>
    <li><a href="../tutorials/tutorial1.html" target="_parent">Tutorial. Part 1. Model and view</a></li>
    <li><a href="../tutorials/tutorial2.html" target="_parent">Tutorial. Part 2. Child component collections</a></li>
    <li><a href="../tutorials/tutorial3.html" target="_parent">Tutorial. Part 3. Named child components</a></li>
    <li><a href="../tutorials/tutorial4.html" target="_parent">Tutorial. Part 4. Messages</a></li>
    <li><a href="../tutorials/tutorial5.html" target="_parent">Tutorial. Part 5. Properties</a></li>
    <li><a href="../tutorials/tutorial6.html" target="_parent">Tutorial. Part 6. Collection bindings</a></li>
  </ul>
  <hr>
  <ul>
    <li><a href="../tutorials/philosophy.html" target="_parent">jWidget philosophy</a></li>
  </ul>
</div>
</div>
		<div id="index-dropdown" class="doc-dropdown" style="display: none"><div class="container-fluid">
  <h5><a href="../doc.html" target="_parent">Documentation root</a></h5>
  <div class="row">
    <div class="col-4">
      <h5>Utilities</h5>
      <ul class="list-unstyled">
        <li><a href="../jwidget.html" target="_parent">CoreUtils</a></li>
        <li><a href="ArrayUtils.html" target="_parent">ArrayUtils</a></li>
        <li><a href="DomUtils.html" target="_parent">DomUtils</a></li>
        <li><a href="IterableUtils.html" target="_parent">IterableUtils</a></li>
        <li><a href="MapUtils.html" target="_parent">MapUtils</a></li>
        <li><a href="SetUtils.html" target="_parent">SetUtils</a></li>
        <li><a href="StringUtils.html" target="_parent">StringUtils</a></li>
      </ul>
      <h5>Core interfaces</h5>
      <ul class="list-unstyled">
        <li><a href="Destroyable.html" target="_parent">Destroyable</a></li>
        <li><a href="Listenable.html" target="_parent">Listenable</a></li>
        <li><a href="Bindable.html" target="_parent">Bindable</a></li>
        <li><a href="DestroyableBindable.html" target="_parent">DestroyableBindable</a></li>
      </ul>
    </div>
    <div class="col-4">
      <h5>Auxiliary interfaces</h5>
      <ul class="list-unstyled">
        <li><a href="Some.html" target="_parent">Some</a></li>
      </ul>
      <h5>Core classes and their interfaces</h5>
      <ul class="list-unstyled">
        <li><a href="Class.html" target="_parent">Class</a>, <a href="IClass.html" target="_parent">IClass</a></li>
        <li><b>Dispatcher</b>, <a href="IDispatcher.html" target="_parent">IDispatcher</a></li>
        <li><a href="Property.html" target="_parent">Property</a>, <a href="IProperty.html" target="_parent">IProperty</a></li>
      </ul>
      <h5>UI core</h5>
      <ul class="list-unstyled">
        <li><a href="Component.html" target="_parent">Component</a></li>
        <li><a href="Renderable.html" target="_parent">Renderable</a></li>
        <li><a href="template.html" target="_parent">template</a></li>
        <li><a href="listen.html" target="_parent">listen</a></li>
      </ul>
    </div>
    <div class="col-4">
      <h5>Model bindings for <a href="Property.html" target="_parent">Property</a></h5>
      <ul class="list-unstyled">
        <li><a href="Copier.html" target="_parent">Copier</a></li>
        <li><a href="Mapper.html" target="_parent">Mapper</a></li>
        <li><a href="Switcher.html" target="_parent">Switcher</a></li>
      </ul>
      <h5>View bindings for <a href="Property.html" target="_parent">Property</a></h5>
      <ul class="list-unstyled" style="column-count: 2">
        <li><a href="bindAttr.html" target="_parent">bindAttr</a></li>
        <li><a href="bindClass.html" target="_parent">bindClass</a></li>
        <li><a href="bindCss.html" target="_parent">bindCss</a></li>
        <li><a href="bindDisplay.html" target="_parent">bindDisplay</a></li>
        <li><a href="bindHtml.html" target="_parent">bindHtml</a></li>
        <li><a href="bindProp.html" target="_parent">bindProp</a></li>
        <li><a href="bindRadio.html" target="_parent">bindRadio</a></li>
        <li><a href="bindText.html" target="_parent">bindText</a></li>
        <li><a href="bindVal.html" target="_parent">bindVal</a></li>
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-8">
      <h5>Collections</h5>
      <table class="table table-sm">
        <tbody>
          <tr>
            <td><a href="ReadonlyBindableArray.html" target="_parent">ReadonlyBindableArray</a></td>
            <td><a href="ReadonlyBindableMap.html" target="_parent">ReadonlyBindableMap</a></td>
            <td><a href="ReadonlyBindableSet.html" target="_parent">ReadonlyBindableSet</a></td>
          </tr>
          <tr>
            <td><a href="DestroyableReadonlyBindableArray.html" target="_parent">DestroyableReadonlyBindableArray</a></td>
            <td><a href="DestroyableReadonlyBindableMap.html" target="_parent">DestroyableReadonlyBindableMap</a></td>
            <td><a href="DestroyableReadonlyBindableSet.html" target="_parent">DestroyableReadonlyBindableSet</a></td>
          </tr>
          <tr>
            <td><a href="IBindableArray.html" target="_parent">IBindableArray</a></td>
            <td><a href="IBindableMap.html" target="_parent">IBindableMap</a></td>
            <td><a href="IBindableSet.html" target="_parent">IBindableSet</a></td>
          </tr>
          <tr>
            <td><a href="BindableArray.html" target="_parent">BindableArray</a></td>
            <td><a href="BindableMap.html" target="_parent">BindableMap</a></td>
            <td><a href="BindableSet.html" target="_parent">BindableSet</a></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-4">
      <h5>Collection bindings</h5>
      <ul class="list-unstyled" style="column-count: 2">
        <li><a href="collection/AbstractMapper.html" target="_parent">AbstractMapper</a></li>
        <li><a href="collection/AbstractValueCollector.html" target="_parent">AbstractValueCollector</a></li>
        <li><a href="collection/ArrayFilterer.html" target="_parent">ArrayFilterer</a></li>
        <li><a href="collection/ArrayInserter.html" target="_parent">ArrayInserter</a></li>
        <li><a href="collection/ArrayMapper.html" target="_parent">ArrayMapper</a></li>
        <li><a href="collection/ArrayMerger.html" target="_parent">ArrayMerger</a></li>
        <li><a href="collection/ArrayReverser.html" target="_parent">ArrayReverser</a></li>
        <li><a href="collection/ArrayValueCollector.html" target="_parent">ArrayValueCollector</a></li>
        <li><a href="collection/MapFilterer.html" target="_parent">MapFilterer</a></li>
        <li><a href="collection/MapInserter.html" target="_parent">MapInserter</a></li>
        <li><a href="collection/MapKeyCollector.html" target="_parent">MapKeyCollector</a></li>
        <li><a href="collection/MapMapper.html" target="_parent">MapMapper</a></li>
        <li><a href="collection/MapValueCollector.html" target="_parent">MapValueCollector</a></li>
        <li><a href="collection/SetConverterToArray.html" target="_parent">SetConverterToArray</a></li>
        <li><a href="collection/SetFilterer.html" target="_parent">SetFilterer</a></li>
        <li><a href="collection/SetIndexer.html" target="_parent">SetIndexer</a></li>
        <li><a href="collection/SetMapper.html" target="_parent">SetMapper</a></li>
        <li><a href="collection/SetMatchingValueCounter.html" target="_parent">SetMatchingValueCounter</a></li>
        <li><a href="collection/SetSorter.html" target="_parent">SetSorter</a></li>
        <li><a href="collection/SetValueCollector.html" target="_parent">SetValueCollector</a></li>
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-4">
      <h5>Routing</h5>
      <ul class="list-unstyled">
        <li><a href="hash.html" target="_parent">hash</a></li>
        <li><a href="Router.html" target="_parent">Router</a></li>
        <li><a href="RouteRedirector.html" target="_parent">RouteRedirector</a></li>
        <li><a href="RoutingNode.html" target="_parent">RoutingNode</a></li>
        <li><a href="UIRouter.html" target="_parent">UIRouter</a></li>
        <li><a href="Endpoint.html" target="_parent">Endpoint</a></li>
      </ul>
      <h5>Destroyable adapters</h5>
      <ul class="list-unstyled">
        <li><a href="Destructor.html" target="_parent">Destructor</a></li>
        <li><a href="Interval.html" target="_parent">Interval</a></li>
      </ul>
    </div>
    <div class="col-4">
      <h5>AJAX and asyncronous operations</h5>
      <ul class="list-unstyled">
        <li><a href="CancelToken.html" target="_parent">CancelToken</a></li>
        <li><a href="defer.html" target="_parent">defer</a></li>
        <li><a href="request.html" target="_parent">request</a></li>
      </ul>
      <h5>Other tools</h5>
      <ul class="list-unstyled">
        <li><a href="DomInserter.html" target="_parent">DomInserter</a></li>
        <li><a href="DomTemplate.html" target="_parent">DomTemplate</a></li>
        <li><a href="HtmlTemplate.html" target="_parent">HtmlTemplate</a></li>
      </ul>
    </div>
    <div class="col-4">
      <h5>References (low level stuff)</h5>
      <ul class="list-unstyled">
        <li><a href="AbstractTemplate.html" target="_parent">AbstractTemplate</a></li>
        <li><a href="dummyDestroyable.html" target="_parent">dummyDestroyable</a></li>
        <li><a href="dummyDispatcher.html" target="_parent">dummyDispatcher</a></li>
        <li><a href="TemplateOutput.html" target="_parent">TemplateOutput</a></li>
      </ul>
    </div>
  </div>
</div>
</div>
		<script type="text/javascript" src="../jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="../bootstrap.bundle.min.js"></script>
		<script type="text/javascript" src="../scripts.js"></script>
	</body>
</html>